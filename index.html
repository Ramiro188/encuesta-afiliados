{
  "html_code": "<!DOCTYPE html>\n<html lang=\"es\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Gana S/100 con Tu Voz Tu Salud Perú</title>\n    \n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n    <link href=\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&display=swap\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n\n    <style>\n        :root {\n            --color-primario: #0052FF; /* Un azul más eléctrico y moderno */\n            --color-secundario: #00C6A7;\n            --color-acento: #FFD60A; /* Amarillo vibrante para premios */\n            --color-fondo: #0A192F; /* Fondo oscuro tipo tech */\n            --color-tarjeta: #172A45; /* Azul más claro para tarjetas */\n            --color-texto-principal: #CCD6F6;\n            --color-texto-secundario: #8892B0;\n            --sombra-tarjeta: 0 10px 30px -15px rgba(2, 12, 27, 0.7);\n        }\n        html { scroll-behavior: smooth; }\n        body {\n            font-family: 'Poppins', sans-serif;\n            background-color: var(--color-fondo);\n            color: var(--color-texto-principal);\n            margin: 0;\n            line-height: 1.6;\n        }\n        .container { max-width: 750px; margin: 0 auto; padding: 20px; }\n        .hidden { display: none !important; }\n\n        /* --- HERO SECTION: MÁXIMO IMPACTO VISUAL --- */\n        .hero-section {\n            min-height: 100vh;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            text-align: center;\n            padding: 20px;\n        }\n        .hero-section h1 {\n            font-family: 'Poppins', sans-serif;\n            font-weight: 900;\n            font-size: clamp(2.5rem, 8vw, 4.5rem); /* Tamaño de fuente adaptable */\n            color: #fff;\n            margin: 0;\n            line-height: 1.1;\n            text-shadow: 0 0 20px rgba(0, 82, 255, 0.5);\n        }\n        .hero-section h1 .highlight {\n            background: linear-gradient(45deg, var(--color-acento), #FFC300);\n            -webkit-background-clip: text;\n            -webkit-text-fill-color: transparent;\n        }\n        .hero-section .subtitle {\n            font-size: 1.25rem;\n            color: var(--color-texto-secundario);\n            max-width: 600px;\n            margin: 20px 0 40px 0;\n        }\n        .prize-cards {\n            display: flex;\n            gap: 20px;\n            margin-bottom: 40px;\n            flex-wrap: wrap;\n            justify-content: center;\n        }\n        .prize-card {\n            background: var(--color-tarjeta);\n            padding: 25px;\n            border-radius: 12px;\n            border: 1px solid #304564;\n            flex: 1;\n            min-width: 250px;\n            box-shadow: var(--sombra-tarjeta);\n        }\n        .prize-card .prize-title { font-size: 1rem; font-weight: 700; color: var(--color-secundario); }\n        .prize-card .prize-amount { font-size: 2.5rem; font-weight: 900; color: #fff; margin: 5px 0; }\n        .prize-card .prize-description { font-size: 0.9rem; color: var(--color-texto-secundario); }\n        \n        .cta-button {\n            font-family: 'Poppins', sans-serif;\n            font-size: 1.5rem;\n            font-weight: 700;\n            padding: 20px 40px;\n            border-radius: 50px;\n            border: none;\n            background: linear-gradient(45deg, var(--color-primario), #007BFF);\n            color: white;\n            cursor: pointer;\n            transition: transform 0.3s ease, box-shadow 0.3s ease;\n            box-shadow: 0 4px 20px rgba(0, 123, 255, 0.4);\n        }\n        .cta-button:hover {\n            transform: scale(1.05);\n            box-shadow: 0 8px 30px rgba(0, 123, 255, 0.6);\n        }\n\n        /* --- SECCIÓN DE REGISTRO (SIMPLE) --- */\n        .main-content { padding-top: 80px; }\n        .card {\n            background-color: var(--color-tarjeta);\n            border-radius: 16px;\n            padding: 35px;\n            margin-bottom: 30px;\n            box-shadow: var(--sombra-tarjeta);\n            border: 1px solid #304564;\n        }\n        h2 {\n            font-size: 1.8rem; text-align: center; margin-top: 0; margin-bottom: 30px; display: flex; align-items: center; justify-content: center; gap: 10px; color: #fff;\n        }\n        h2 .icon { color: var(--color-secundario); }\n        .form-group label { display: block; font-weight: 700; margin-bottom: 10px; font-size: 1.2rem; text-align: center; color: var(--color-texto-principal); }\n        .form-group input {\n            width: 100%; padding: 18px; border: 2px solid #304564; border-radius: 10px; font-size: 1.5rem; font-family: 'Poppins', sans-serif; box-sizing: border-box; background-color: var(--color-fondo); color: #fff; text-align: center;\n        }\n        .form-group input::placeholder { color: var(--color-texto-secundario); }\n        .btn-submit {\n            width: 100%; padding: 16px; margin-top: 20px; background: linear-gradient(45deg, var(--color-secundario), #00A98F); color: white; border: none; border-radius: 10px; font-size: 1.2rem; font-weight: 700; cursor: pointer;\n        }\n\n        /* --- DASHBOARD DEL AFILIADO --- */\n        .dashboard-intro { font-size: 1.1rem; text-align: center; color: var(--color-texto-secundario); margin-bottom: 25px; }\n        .id-container {\n            background: var(--color-fondo); padding: 20px; border-radius: 10px; border: 1px dashed var(--color-secundario); margin-bottom: 25px; text-align: center;\n        }\n        .id-container .label { font-size: 1rem; color: var(--color-texto-secundario); }\n        .id-container .value { font-size: 1.8rem; font-weight: 700; color: var(--color-acento); word-wrap: break-word; }\n        .referral-link-container { text-align: center; padding: 15px; border-radius: 10px; background: var(--color-fondo); margin-bottom: 25px; }\n        .referral-link-container .value { font-weight: 600; color: var(--color-secundario); word-wrap: break-word; }\n        .dashboard-actions { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; }\n        .btn-action { padding: 15px 25px; border-radius: 10px; font-size: 1.1rem; font-weight: 700; border: none; flex-grow: 1; cursor: pointer; transition: transform 0.2s; }\n        .btn-action:hover { transform: scale(1.03); }\n        #copy-btn { background-color: var(--color-primario); color: white; }\n        #whatsapp-btn { background-color: #25D366; color: white; }\n        \n        /* --- Ranking y Timer --- */\n        .ranking-list { list-style: none; padding: 0; }\n        .ranking-item { display: flex; align-items: center; padding: 15px; border-bottom: 1px solid #304564; }\n        .rank-id { font-weight: 700; color: var(--color-texto-principal); flex-grow: 1; }\n        .rank-count { font-weight: 700; color: var(--color-secundario); }\n        #timer { display: flex; justify-content: space-around; }\n        .timer-box { text-align: center; }\n        .timer-value { font-size: 2.5rem; font-weight: 700; color: #fff; }\n        .timer-label { font-size: 0.9rem; color: var(--color-texto-secundario); }\n\n        .footer { text-align: center; padding: 40px 20px; color: var(--color-texto-secundario); font-size: 0.9rem; margin-top: 20px; border-top: 1px solid #304564; }\n        .footer a { color: var(--color-secundario); font-weight: 600; text-decoration: none; }\n    </style>\n</head>\n<body>\n\n    <!-- SECCIÓN 1: PÁGINA DE ATERRIZAJE PERSUASIVA -->\n    <div id=\"hero-section\" class=\"hero-section\">\n        <h1>Tu opinión puede valer <span class=\"highlight\">S/100</span></h1>\n        <p class=\"subtitle\">Alza tu voz por la salud del Perú. Solo por participar, entras a un sorteo, y si nos ayudas a difundir, compites por el gran premio.</p>\n\n        <div class=\"prize-cards\">\n            <div class=\"prize-card\">\n                <div class=\"prize-title\">GRAN PREMIO</div>\n                <div class=\"prize-amount\">S/ 100</div>\n                <div class=\"prize-description\">Para el peruano/a que más voces sume a la causa.</div>\n            </div>\n            <div class=\"prize-card\">\n                <div class=\"prize-title\">SORTEO</div>\n                <div class=\"prize-amount\">2 de S/ 10</div>\n                <div class=\"prize-description\">Solo por registrarte ya estás participando.</div>\n            </div>\n        </div>\n\n        <button id=\"participate-btn\" class=\"cta-button\">\n            <i class=\"fa-solid fa-rocket\"></i> ¡QUIERO PARTICIPAR AHORA!\n        </button>\n    </div>\n\n    <!-- SECCIÓN 2: CONTENIDO PRINCIPAL (Inicialmente oculto) -->\n    <main id=\"main-content\" class=\"main-content hidden\">\n        <div class=\"container\">\n            \n            <!-- Módulo de Registro (simple) -->\n            <div id=\"registro-card\" class=\"card\">\n                <h2><i class=\"icon fa-solid fa-pen-to-square\"></i>Paso 1: Registra tu Yape</h2>\n                <form id=\"referralForm\">\n                    <div class=\"form-group\">\n                        <label for=\"userYape\">Ingresa tu número para participar y recibir los premios</label>\n                        <input type=\"tel\" id=\"userYape\" name=\"userYape\" placeholder=\"987 654 321\" required>\n                    </div>\n                    <input type=\"hidden\" id=\"referrerId\" name=\"referrerId\">\n                    <button type=\"submit\" id=\"submit-btn\" class=\"btn-submit\">Registrarme y Generar mi Enlace</button>\n                </form>\n            </div>\n\n            <!-- Dashboard de Afiliado (se muestra post-registro) -->\n            <div id=\"dashboard-card\" class=\"card hidden\">\n                <h2><i class=\"icon fa-solid fa-award\"></i>¡Listo! Ya estás participando</h2>\n                <div class=\"id-container\">\n                    <div class=\"label\">Guarda bien tu ID de participante. ¡Es tu ticket!</div>\n                    <div id=\"user-unique-id\" class=\"value\"></div>\n                </div>\n                <p class=\"dashboard-intro\">Ahora, comparte tu enlace personal. Cada persona que se registre con tu enlace te acerca al gran premio de S/100.</p>\n                <div class=\"referral-link-container\">\n                    <div id=\"user-referral-link\" class=\"value\"></div>\n                </div>\n                <div class=\"dashboard-actions\">\n                    <button id=\"copy-btn\" class=\"btn-action\"><i class=\"fa-solid fa-copy\"></i> Copiar Enlace</button>\n                    <button id=\"whatsapp-btn\" class=\"btn-action\"><i class=\"fa-brands fa-whatsapp\"></i> Compartir</button>\n                </div>\n            </div>\n\n            <!-- Ranking y Temporizador -->\n            <div id=\"ranking-card\" class=\"card\">\n                <h2><i class=\"icon fa-solid fa-ranking-star\"></i>Top 5 Agentes de Cambio</h2>\n                <div id=\"ranking-list\" class=\"ranking-list\"></div>\n            </div>\n            \n            <div id=\"countdown-card\" class=\"card\">\n                <h2><i class=\"icon fa-solid fa-clock\"></i>Cierre de la campaña</h2>\n                <div id=\"timer\"></div>\n            </div>\n        </div>\n        <footer class=\"footer\">\n             Un proyecto de <a href=\"#\" target=\"_blank\">Clinic IOS</a> para la campaña nacional <br><strong>Tu Voz Tu Salud Perú</strong>\n        </footer>\n    </main>\n\n    <script>\n    document.addEventListener('DOMContentLoaded', () => {\n        // --- SELECTORES --- \n        const heroSection = document.getElementById('hero-section');\n        const mainContent = document.getElementById('main-content');\n        const participateBtn = document.getElementById('participate-btn');\n        const referralForm = document.getElementById('referralForm');\n        const registroCard = document.getElementById('registro-card');\n        const dashboardCard = document.getElementById('dashboard-card');\n        const referrerIdInput = document.getElementById('referrerId');\n\n        // --- LÓGICA DE LA PÁGINA DE ATERRIZAJE ---\n        participateBtn.addEventListener('click', () => {\n            heroSection.style.transition = 'opacity 0.5s ease-out';\n            heroSection.style.opacity = '0';\n            setTimeout(() => {\n                heroSection.classList.add('hidden');\n                mainContent.classList.remove('hidden');\n                mainContent.style.opacity = '0';\n                setTimeout(() => { mainContent.style.transition = 'opacity 0.5s ease-in'; mainContent.style.opacity = '1'; }, 50);\n            }, 500);\n        });\n\n        // --- LÓGICA DE AFILIADOS ---\n        const urlParams = new URLSearchParams(window.location.search);\n        const refIdFromUrl = urlParams.get('ref');\n        if (refIdFromUrl) {\n            // Si alguien llega con un enlace de referido, lo llevamos directo al registro\n            heroSection.classList.add('hidden');\n            mainContent.classList.remove('hidden');\n            referrerIdInput.value = refIdFromUrl;\n        }\n\n        const savedUser = localStorage.getItem('tvtsUser');\n        if (savedUser) {\n            heroSection.classList.add('hidden');\n            mainContent.classList.remove('hidden');\n            showDashboard(JSON.parse(savedUser));\n        }\n\n        referralForm.addEventListener('submit', function(event) {\n            event.preventDefault();\n            const yapeNumber = document.getElementById('userYape').value;\n            if (!yapeNumber || yapeNumber.length < 9) {\n                alert('Por favor, ingresa un número de Yape válido.');\n                return;\n            }\n            \n            const uniqueId = 'ID' + Math.random().toString(36).substring(2, 8).toUpperCase();\n            const data = {\n                userYape: yapeNumber,\n                userId: uniqueId,\n                referrerId: referrerIdInput.value || 'Directo'\n            };\n\n            console.log(\"Datos del nuevo afiliado a enviar:\", data);\n            // AQUÍ LA CONEXIÓN CON GOOGLE APPS SCRIPT\n            showDashboard(data);\n            localStorage.setItem('tvtsUser', JSON.stringify(data));\n        });\n\n        function showDashboard(userData) {\n            registroCard.classList.add('hidden');\n            dashboardCard.classList.remove('hidden');\n\n            const domain = `${window.location.origin}${window.location.pathname}`;\n            const referralLink = `${domain}?ref=${userData.userId}`;\n\n            document.getElementById('user-unique-id').textContent = userData.userId;\n            document.getElementById('user-referral-link').textContent = referralLink;\n\n            document.getElementById('copy-btn').addEventListener('click', () => {\n                navigator.clipboard.writeText(referralLink).then(() => { alert('¡Enlace copiado!'); });\n            });\n\n            document.getElementById('whatsapp-btn').addEventListener('click', () => {\n                const message = encodeURIComponent(`¡Gana S/100 con la campaña Tu Voz Tu Salud Perú! Solo por participar entras a un sorteo. Únete aquí: ${referralLink}`);\n                window.open(`https://api.whatsapp.com/send?text=${message}`, '_blank');\n            });\n        }\n\n        // --- RANKING Y TEMPORIZADOR (DATOS SIMULADOS) ---\n        const rankingList = document.getElementById('ranking-list');\n        const topReferrers = [\n            { id: 'IDG4F8K', count: 87 }, { id: 'IDR2T9A', count: 72 }, { id: 'IDL1P5S', count: 55 },\n            { id: 'IDZ7B3E', count: 48 }, { id: 'IDM9N2Q', count: 41 },\n        ];\n        rankingList.innerHTML = topReferrers.map((user, index) => `\n            <div class=\"ranking-item\">\n                <div class=\"rank-id\"><i class=\"fa-solid fa-medal\" style=\"color: ${['#FFD700', '#C0C0C0', '#CD7F32'][index] || 'var(--color-texto-secundario)'}; margin-right: 10px;\"></i>#${index + 1} - ${user.id}</div>\n                <div class=\"rank-count\">${user.count} referidos</div>\n            </div>`).join('');\n\n        const countdownDate = new Date(\"July 28, 2024 23:59:59\").getTime();\n        const timerContainer = document.getElementById('timer');\n        setInterval(() => {\n            const distance = countdownDate - new Date().getTime();\n            if (distance < 0) { timerContainer.innerHTML = \"<h3>¡Campaña finalizada!</h3>\"; return; }\n            const d = Math.floor(distance/(1000*60*60*24)), h = Math.floor((distance%(1000*60*60*24))/(1000*60*60)), m = Math.floor((distance%(1000*60*60))/(1000*60));\n            timerContainer.innerHTML = `<div class=\"timer-box\"><div class=\"timer-value\">${String(d).padStart(2,'0')}</div><div class=\"timer-label\">Días</div></div><div class=\"timer-box\"><div class=\"timer-value\">${String(h).padStart(2,'0')}</div><div class=\"timer-label\">Horas</div></div><div class=\"timer-box\"><div class=\"timer-value\">${String(m).padStart(2,'0')}</div><div class=\"timer-label\">Minutos</div></div>`;\n        }, 1000);\n    });\n    </script>\n</body>\n</html>"
}
